---
layout: post
title: 'Note when reading how to do refactor'
tags:
  - note
  -
category: java
---
如果它没坏，就别动它。
这个程序也许并没有坏掉， 但它带来了伤害，它让你的生活比较难过，因为你发现很难完成客户所需的修改。 这个时候就该重构技术粉墨登场了。
<!--more-->

重构的目的就是在不改变原有功能的前提下对程序进行美容， 在进行重构之前有一个重中之重的工作，就是测试， 需要建立一个可靠的测试环境。

任何一个傻瓜都能写出计算器可以识别的代码， 唯有写出人类容易理解的代码才是优秀的程序员。

重构定义：

对软件内部结构的一种调整， 目的在于在不改变软件之可查行为前提下， 提高其可理解性， 降低其修改成本

容易理解代码的几个特性：

* 干净 整洁
* 责任分配合理
* 高内聚低耦合
*

重构的方向

* 消除重复代码(duplicate code)
*

重构的几种常用的方法：

* 提取方法(extract method)
* 移动方法(move method)
* 去除冗余变量(Replace temp with query)
* 代码复用
* 使用模板(Form template Method)
* 利用多态取代条件逻辑(Replace conditions with polymorphism)
*

# 为何重构

程序结构的流失是累积性的， 程序一般是一个团队来完成的， 每个人对代码的理解并不一样， 所以修改的方式也就不一样， 所以如果没有重构， 程序的设计会逐渐的腐败变质。

# 重构的时机

首先我认为重构应该是一个程序员的习惯， 何时何地都要想着去重构自己的代码。
下面是一些经常需要重构的地方：

* 添加新功能的时候重构， 通过重构使新功能与旧功能更好的融合在一起
* 修改bug时需要重构，因为你的代码还不够清晰， 还不能让你一目了然的让你发现bug
* 代码review的时候重构， 通过重构让你更加容易的发现问题
